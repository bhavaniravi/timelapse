<html>
    <head>
        <title>Timelapse</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.21.1/babel.min.js"></script>
    <link rel="stylesheet" href="index.css" type="text/css">
    </head>
    <body>
        <div class="container">
            <div id="today" style="text-align:center"></div>
        </div>
        <script type="text/babel">
            function today(){
                const tod= (
                        <h2>
                            Today's Date:&nbsp;{new Date().toLocaleDateString()}&nbsp;
                            Time:&nbsp; {new Date().toLocaleTimeString()}
                        </h2>   
                );
                ReactDOM.render(tod,document.getElementById('today'));
            }
            today();
            setInterval(today,1000);
        </script>
        <div class="container" id="task3">
            
        </div>
        <script type="text/babel">
            function Percent(){
                    const date = new Date();
                    const first= new Date(date.getFullYear(),0,1);
                    const last=new Date(date.getFullYear(),11,31);
                    const today=date;
                    const left= Math.round((last.getTime()-today.getTime())/(1000*60*60*24));
                    const done = Math.round((today.getTime()-first.getTime())/(1000*60*60*24));
                    const left_percent = (left/360) *100;
                    const done_percent = (done/360)*100;
                    const progressInstance =(
                        <div className="wrapper" id="progress">
                            
                            <div id="left">
                                Days Remaining In {date.getFullYear()} <br/>
                                <progress value={left_percent} max="100"/><br/>
                                {left}&nbsp;Days
                            </div>
                            
                            <div id="done">
                                Days Done in {date.getFullYear()}<br/>
                                <progress value ={done_percent} max="100"/><br/>
                                {done}&nbsp;Days
                            </div>
                        </div>
                    );
                    ReactDOM.render(progressInstance,document.getElementById('task3'));
            }
            Percent();
        </script>
        <div class="container" id="task1"></div>
        <script type="text/babel">
                class Getdate extends React.Component{
                    constructor(props) {
                        super(props);
                        this.state = {Date: "",
                                    Day: ""};
                        this.handleClick = this.handleClick.bind(this);
                      }
                    handleClick(event){
                        const a=new Date(this.state.Date);
                        const days=parseInt(this.state.Day)+parseInt(a.getDate());
                        a.setDate(days);
                        ReactDOM.render(React.createElement("h2",{},a.toLocaleDateString()),document.getElementById('ans1'));
                    }
                    render(){
                        return(
                            <div className="wrapper">
                                <input type="date" value={this.state.Date} onChange={e =>this.setState({Date: e.target.value})} />&nbsp;
                                <span>+</span>&nbsp;
                                <input type="number" value={this.state.Day} onChange={e => this.setState({Day: e.target.value})} />&nbsp;
                                <br/>
                                <button onClick={this.handleClick}>=</button>&nbsp;
                                <div id="ans1"></div>
                            </div>
                        );
                    }
                }
                ReactDOM.render(<Getdate />,document.getElementById('task1'));
        </script>
        <div class="container" id="task2"></div>
        <script type="text/babel">
            class GetDay extends React.Component{
                constructor(props){
                    super(props);
                    this.state={
                        from:"",
                        to:""
                    }
                    this.handleClick=this.handleClick.bind(this);
                }
                handleClick(event){
                    const a=new Date(this.state.from);
                    const b = new Date(this.state.to);
                    const day = (a.getTime() - b.getTime())/(1000*60*60*24);
                    ReactDOM.render(React.createElement("h2",{},day+" days"),document.getElementById('ans2'));
                }
                render(){
                    return(
                        <div className="wrapper">
                            <input type="date" value={this.state.from} onChange={e => this.setState({from: e.target.value})}/>&nbsp;
                            <span>-</span>&nbsp;
                            <input type="date" value={this.state.to} onChange={e => this.setState({to: e.target.value})}/>&nbsp;
                            <button onClick={this.handleClick}>=</button>
                            <div id="ans2"></div>
                        </div>
                    );
                }
            }
            ReactDOM.render(<GetDay />,document.getElementById('task2'));
        </script>
</body>
</html>